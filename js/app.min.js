(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),document.addEventListener("click",(function(e){const t=e.target;if(t.closest("[data-ripple]")){const n=t.closest("[data-ripple]"),a=document.createElement("span"),i=Math.max(n.clientWidth,n.clientHeight),s=i/2;a.style.width=a.style.height=`${i}px`,a.style.left=e.pageX-(n.getBoundingClientRect().left+scrollX)-s+"px",a.style.top=e.pageY-(n.getBoundingClientRect().top+scrollY)-s+"px",a.classList.add("ripple"),"once"===n.dataset.ripple&&n.querySelector(".ripple")&&n.querySelector(".ripple").remove(),n.appendChild(a);const c=o();function o(){const e=window.getComputedStyle(a).animationDuration;return e.includes("ms")?e.replace("ms",""):1e3*e.replace("s","")}setTimeout((()=>{a&&a.remove()}),c)}})),window.addEventListener("load",(function(){const e=document.documentElement,t=localStorage.getItem("user-theme");let n;window.matchMedia&&(n=window.matchMedia("(prefers-color-scheme:dark)").matches?"dark":"light"),window.matchMedia("(prefers-color-scheme:dark)").addEventListener("change",(e=>{!t&&s()}));const a=document.querySelector(".theme__page"),i=document.querySelector(".theme__reset");function s(t=!1){let n,a=e.classList.contains("light")?"light":"dark";"light"===a?n="dark":"dark"===a&&(n="light"),e.classList.remove(a),e.classList.add(n),t&&localStorage.setItem("user-theme",n)}a&&a.addEventListener("click",(function(e){i.classList.add("active"),s(!0)})),i&&i.addEventListener("click",(function(e){i.classList.remove("active"),localStorage.setItem("user-theme","")})),t?(e.classList.add(t),i.classList.add("active")):e.classList.add(n)})),function(){const e=document.querySelector("#weather");e&&async function(t){e.innerHTML='\n\t\t\t<div class="weather__loading">\n\t\t\t\t<img src="@img/loading.gif" alt="Loading...">\n\t\t\t</div>';const n=await fetch("https://api.openweathermap.org/data/2.3/onecall?lat=56.60&lon=57.77&exclude=Krasnoufimsk&appid=81cc1a3664b19d3a5e5e8811d5fd7e0f",{method:"GET"}),a=await n.json();n.ok?function(t){console.log(t);const n=t.name,a=Math.round(t.main.temp),i=Math.round(t.main.feels_like),s=t.weather[0].main,c=`\n\t\t\t \t<div class="weather__header">\n\t\t \t<div class="weather__main">\n\t\t \t\t<div class="weather__city">${n}</div>\n\t\t \t\t<div class="weather__status">${s}</div>\n\t\t \t</div>\n\t\t \t<div class="weather__icon">\n\t\t \t\t<img src="http://openweathermap.org/img/w/${t.weather[0].icon}.png" alt="${s}">\n\t\t \t</div>\n\t\t </div>\n\t\t <div class="weather__temp">${a}</div>\n\t\t\t <div class="weather__feels-like">Feels like: ${i}</div>`;e.innerHTML=c}(a):e.innerHTML=a.message}()}()})();